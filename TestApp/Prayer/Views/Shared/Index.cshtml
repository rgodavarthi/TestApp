@using Prayer.View_Model;
@model PrayerRequestListViewModel

@{
    ViewBag.Title = "";
}

<div class="container">
    <div class="jumbotron">
        <h1>ISCF Prayer Application</h1>
        <p class="lead">In all things we learn to give our supplications to God, knowing He hears our prayers.</p>
    </div>
    <!--<div class="form-group">-->
    <div>
        <form name="prayerRequest" action="/Prayer/SavePrayer/" method="post">
            <label for="prayerrequest">Prayer Request:</label>
            <textarea class="form-control" rows="4" style="min-width: 100%" id="prayerrequest" name="PrayerText"></textarea> <p></p>
            <label for="usr">Name:</label>
            <input type="text" class="form-control" id="usr" name="SubmittedBy"> <p></p>
            <button type="submit" class="btn btn-primary btn-block" value="BtnSubmit">Submit</button>
        </form>
    </div>
    <div class="container">
        <h2>Most Recent Prayer Needs</h2>
        <p>The last 10 prayer requests for your information</p>
        <table class="table table-bordered table-responsive">
            <thead class="table">
                <tr>
                    <th>Name</th>
                    <th>Prayer Request</th>
                    <th>Date</th>
                </tr>
            </thead>
            <tbody>
                @foreach (PrayerRequestViewModel prayer in Model.GetPrayers)
                {
                    if(@prayer.IsNew)
                    { 
                        <tr class="alert-danger">
                            <td>@prayer.SubmittedBy</td>
                            <td>@prayer.PrayerText</td>
                            <td>@prayer.SubmittedDate</td>
                        </tr>
                    }
                    else
                    {
                        <tr class="alert-info">
                            <td>@prayer.SubmittedBy</td>
                            <td>@prayer.PrayerText</td>
                            <td>@prayer.SubmittedDate</td>
                        </tr>
                    }
                }
            </tbody>
        </table>
    </div>
</div>
